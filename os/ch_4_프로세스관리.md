# 프로세스 관리


- 부모 프로세스가 자식 프로세스 생성
- 프로세스 트리 (계층 구조) 형성
- 프로세스는 자원을 필요로 함
  - 운영체제로 부터 받는다
  - 부모와 공유한다
- 일반적으로 프로세스는 자원을 공유하지 않고 점유하기위해 경쟁
- fork () 로 부모 프로세스를 복제하고 exec() 시스템 콜을 통해 새로운 프로그램을 메모리에 올린다
- 프로세스가 마지막 명령을 수행한 후 운영체제에게 이를 알려줌 (exit, 프로세스의 각종 자원들이 운영체제에게 반납됨)
- 부모 프로세스가 자식의 수행을 종료시킴 (abort)
  - 자식이 할당 자원의 한계치를 넘어섬
  - 자식에게 할당된 태스크가 더이상 필요하지 않음
  - 부모가 종료하는 경우 (자식이 먼저 죽도록 단계적인 종료) 



### fork() 시스템 콜


- 프로세스는 fork() 시스템 콜에 의해 생성된다
- 부모의 컨택스트 (문맥)을 그대로 이어 받는다 (Program Counter를 복사함)
- 부모 프로세스와 자식프로세스의 리턴 value는 다르다


### exec() 시스템 콜

- 프로세스는 exec() 시스템 콜에 의해 다른 프로그램을 실행할 수 있다


### wait() 시스템 콜

- 프프로세스 A가 wait() 시스템 콜을 호출하면
  - 커널은 child가 종료될 때까지 프로세스 A를 sleep 시킨다 (block 상태)
  - Child process가 종료되면 커널은 프로세스 A를 깨운다 (ready 상태)

> 터미널에서 명령어 입력하면 기본적으로 fork 해서 실행하고 끝날때까지 wait() 한다
 

### exit() 시스템 콜

- 프로세스의 종료
  - 자발적 종료 (마지막 statement tngodgn exit() 시스템콜을 통해, main 함수가 리턴되는 위치에 컴파일러가 넣어줌)
  - 비자발적 종료 (강제 종료하는 경우)



### 프로세스 간 협력

- 독립적 프로세스 

프로세스는 각자 주소 공간을 가지고 수행되므로 원칙적으로 하나의 프로세스는 다른 프로세스의 수행에 영향을 미치지 못함

- 프로세스 간 협력 메커니즘 (IPC: Interprocess Communication)

메시지를 전달하는 방법 -> 커널을 통해 메시지 전달
주소 공간을 공유하는 방법 -> 서로 다른 프로세스 간에도 일부 주소 공간을 공유하게 하는 shared memory 메커니즘이 있음



 
